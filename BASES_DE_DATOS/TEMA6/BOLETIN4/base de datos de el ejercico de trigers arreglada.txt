CREATE TABLE Clientes (
id INT PRIMARY KEY,
nombre VARCHAR(100),
email VARCHAR(100),
telefono VARCHAR(20)
);
CREATE TABLE Productos (
codigo_producto VARCHAR(15) PRIMARY KEY,
nombre VARCHAR(100),
precio DECIMAL(10,2),
cantidad_en_stock INT
);
CREATE TABLE Pedidos (
codigo_pedido INT PRIMARY KEY,
fecha_pedido DATE,
fecha_entrega DATE,
estado VARCHAR(20),
total DECIMAL(10, 2) -- Nuevo campo para almacenar el total del pedido
);

CREATE TABLE Detalles_pedido (
codigo_pedido INT,
codigo_producto VARCHAR2(15),
cantidad INT,
precio_unidad DECIMAL(10,2),
entregado NUMBER(1) DEFAULT 1, -- 1 para true, 0 para false
PRIMARY KEY (codigo_pedido, codigo_producto),
FOREIGN KEY (codigo_pedido) REFERENCES Pedidos(codigo_pedido),
FOREIGN KEY (codigo_producto) REFERENCES Productos(codigo_producto)
);




INSERT INTO Clientes VALUES (1,'Juan Perez', 'juan@example.com', '123456789');
INSERT INTO Clientes VALUES (2,'María López', 'maria@example.com', '987654321');
INSERT INTO Productos (codigo_producto, nombre, precio, cantidad_en_stock) VALUES ('P1', 'Producto 1', 10.99, 100);
INSERT INTO Productos (codigo_producto, nombre, precio, cantidad_en_stock) VALUES ('P2', 'Producto 2', 20.50, 50);
INSERT INTO Pedidos (codigo_pedido, fecha_pedido, fecha_entrega, estado, total) VALUES (1, TO_DATE('2024-04-01', 'YYYY-MM-DD'), TO_DATE('2024-04-05', 'YYYY-MM-DD'), 'Pendiente', 0.00);
INSERT INTO Pedidos (codigo_pedido, fecha_pedido, fecha_entrega, estado, total) VALUES (2, TO_DATE('2024-04-02', 'YYYY-MM-DD'), TO_DATE('2024-04-06', 'YYYY-MM-DD'), 'En Proceso', 0.00);
INSERT INTO Detalles_pedido (codigo_pedido, codigo_producto, cantidad, precio_unidad, entregado) VALUES (1, 'P1', 2, 10.99, 0);
INSERT INTO Detalles_pedido (codigo_pedido, codigo_producto, cantidad, precio_unidad, entregado) VALUES (1, 'P2', 3, 20.50, 0);
INSERT INTO Detalles_pedido (codigo_pedido, codigo_producto, cantidad, precio_unidad, entregado) VALUES (2, 'P1', 1, 10.99, 0);
